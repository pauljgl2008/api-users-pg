DROP TABLE IF EXISTS T_USER;
DROP TABLE IF EXISTS PHONE;

CREATE TABLE T_USER (
  ID VARCHAR(100) PRIMARY KEY,
  NAME VARCHAR(100) NOT NULL,
  EMAIL VARCHAR(100) NOT NULL,
  PASSWORD VARCHAR(255) NOT NULL,
  CREATED TIMESTAMP NOT NULL,
  MODIFIED TIMESTAMP NOT NULL,
  LAST_LOGIN TIMESTAMP NOT NULL,
  TOKEN VARCHAR(255)NOT NULL,
  IS_ACTIVE BOOLEAN NOT NULL,
  UNIQUE (EMAIL)
);

CREATE TABLE PHONE (
  ID varchar(100) PRIMARY KEY,
  NUMBER VARCHAR(36) NOT NULL,
  CITY_CODE VARCHAR(36) NOT NULL,
  COUNTRY_CODE VARCHAR(36) NOT NULL,
  USER_ID VARCHAR(100) NOT NULL,
  UNIQUE (USER_ID, NUMBER)
);

ALTER TABLE PHONE ADD FOREIGN KEY (USER_ID) REFERENCES T_USER(ID);

INSERT INTO T_USER (ID, NAME, EMAIL, PASSWORD, CREATED, MODIFIED, LAST_LOGIN, TOKEN, IS_ACTIVE)
VALUES ('24127467-5e36-4d70-a299-b968515e2237', 'Pa√∫l Guevara', 'paul@smartjob.com', '$2a$10$6j8WP7JzNcRiGpXmctnrBeM9sthtEl8kcUWXSrYAGM2cnrRZBacwe', '2024-12-13T13:11:45.384693500Z', '2024-12-13T13:11:45.384693500Z', '2024-12-13T13:11:45.384693500Z', 'eyJhbGciOiJIUzM4NCJ9.eyJpYXQiOjE3MzQwOTU1MDUsImlzcyI6Ind3dy5zbWFydGpvYi5jb20iLCJzdWIiOiJwYXVsQHNtYXJ0am9iLmNvbSIsImV4cCI6MTczNDA5NjQwNX0.CLnSfq-tD-LvYhNk2l5hz0kbq1FpTvXfYY-Wz5plOhgHFzJ07g_DnV6oXAaSbLXT', TRUE);
INSERT INTO PHONE (ID, NUMBER, CITY_CODE, COUNTRY_CODE, USER_ID)
VALUES (UUID(), '1234567', '1', '57', '24127467-5e36-4d70-a299-b968515e2237');
